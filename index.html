<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Clinic Radio Kiosk — Geo-Tagged (Mumbai)</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  html,body,#map { height:100%; margin:0; padding:0; font-family:system-ui,Arial,sans-serif; background:#f7fbff; }
  .top-bar { padding:10px 14px; background:#fff; border-bottom:1px solid #e6eef6; display:flex; align-items:center; justify-content:space-between; gap:12px; }
  .title { font-weight:700; color:#16325c; }
  #map { height:calc(100vh - 56px); }

  .marker { position:relative; width:120px; height:120px; transform:translate(-50%,-50%); pointer-events:auto; }
  .core { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); border-radius:50%; border:2px solid white; z-index:4; }
  .ring { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) scale(0.1); border-radius:50%; opacity:0; z-index:1; }

  .green .core { width:14px; height:14px; background:rgb(0,60,0); box-shadow:0 0 8px 2px rgba(0,200,0,0.6); }
  .green .ring.r1 { width:40px; height:40px; border:3px solid rgba(0,220,0,0.6); }
  .green .ring.r2 { width:72px; height:72px; border:3px solid rgba(0,200,0,0.45); }
  .green .ring.r3 { width:104px; height:104px; border:3px solid rgba(0,180,0,0.32); }

  @keyframes flash-fast {
    0% { transform:translate(-50%,-50%) scale(1); opacity:1; }
    30% { transform:translate(-50%,-50%) scale(1.5); opacity:0.95; }
    60% { transform:translate(-50%,-50%) scale(1); opacity:0.6; }
    100% { transform:translate(-50%,-50%) scale(1); opacity:1; }
  }

  @keyframes burst {
    0% { transform:translate(-50%,-50%) scale(0.2); opacity:0.9; }
    60% { transform:translate(-50%,-50%) scale(1.0); opacity:0.18; }
    100% { transform:translate(-50%,-50%) scale(1.6); opacity:0; }
  }

  .core.animate { animation: flash-fast 1s linear infinite; }
  .ring.r1.animate { animation: burst 1.6s ease-out infinite; }
  .ring.r2.animate { animation: burst 1.6s ease-out infinite 0.3s; }
  .ring.r3.animate { animation: burst 1.6s ease-out infinite 0.6s; }

  .leaflet-marker-icon { background:transparent; border:none; width:40px; height:40px; }
</style>
</head>
<body>
<div class="top-bar">
  <div class="title">Clinic Radio Kiosk — Dr Shashank Joshi, Geo-Tagged (Mumbai)</div>
  <div style="font-size:13px;color:#28507a;">Radio 4 Public Health — STATUS • = Active ( Green )</div>
</div>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const clinic = {
  id: "CL076",
  clinic: "clinic radio kiosk - dr shashank joshi",
  city: "Mumbai",
  lat: 19.059882, 
  lon: 72.835197,
  status: "Active",
  device: "RADIO 4"
};

const SITE = "https://drshashankjoshi.radio4.in";

const map = L.map('map').setView([clinic.lat, clinic.lon], 15);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

function makeMarkerElem(cl){
  const html = `
    <div class="marker green">
      <span class="ring r1 animate"></span>
      <span class="ring r2 animate"></span>
      <span class="ring r3 animate"></span>
      <span class="core animate"></span>
    </div>
  `;
  const div = document.createElement('div');
  div.innerHTML = html;
  return div.firstElementChild;
}

const elem = makeMarkerElem(clinic);
const icon = L.divIcon({ className:'', html:elem.outerHTML, iconSize:[40,40], iconAnchor:[20,20] });
const marker = L.marker([clinic.lat, clinic.lon], { icon }).addTo(map);

const popup = `
  <div style="font-size:14px;">
    <strong>${clinic.device} — ${clinic.id}</strong><br/>
    ${clinic.clinic}<br/>
    ${clinic.city}<br/>
    Status: ${clinic.status}
  </div>
`;
marker.bindPopup(popup);
marker.on('click', ()=> window.open(SITE,'_blank'));

</script>
</body>
</html>
