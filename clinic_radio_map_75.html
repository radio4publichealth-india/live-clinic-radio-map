<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Clinic Radio Map — Cleveland eHealth Research (75 Clinics)</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  html,body,#map { height:100%; margin:0; padding:0; }
  body { font-family: system-ui, Arial, sans-serif; }
  .top-bar { padding:10px 14px; background:#fff; border-bottom:1px solid #eee; }
  .top-bar h1 { margin:0; font-size:18px; color:#16325c; }
  .top-bar p { margin:4px 0 0; color:#555; font-size:13px; }
  .pulse-green { width:18px;height:18px;background:rgba(0,180,0,1);border-radius:50%;border:2px solid white;position:relative; }
  .pulse-red { width:18px;height:18px;background:rgba(220,30,30,1);border-radius:50%;border:2px solid white;position:relative; }
  .pulse-green::after, .pulse-red::after { content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:100%;height:100%;border-radius:50%;animation:pulse 1.6s infinite; }
  .pulse-green::after { background: rgba(0,180,0,0.45); }
  .pulse-red::after { background: rgba(220,30,30,0.45); }
  @keyframes pulse { 0% { transform:translate(-50%,-50%) scale(0.7); opacity:0.9; } 70% { transform:translate(-50%,-50%) scale(2.3); opacity:0; } 100% { opacity:0; } }
  .legend { background: rgba(255,255,255,0.95); padding:8px 10px; border-radius:6px; box-shadow:0 1px 4px rgba(0,0,0,0.15); font-size:13px; }
  .legend .dot { display:inline-block; width:12px; height:12px; border-radius:50%; margin-right:8px; vertical-align:middle; }
  .legend .green { background:#00b400; }
  .legend .red { background:#d31e1e; }
  .info-note { position: absolute; left:14px; bottom:14px; background: rgba(255,255,255,0.95); padding:8px 12px; border-radius:6px; box-shadow: 0 1px 6px rgba(0,0,0,0.12); font-size:13px; }
</style>
</head>
<body>
<div class="top-bar">
  <h1>Clinic Radio Map — A Digital Public Health & Nutrition Broadcast Outreach</h1>
  <p>by Cleveland eHealth Research — 75 clinic radios (5 active, 70 non-active)</p>
</div>
<div id="map"></div>
<div class="info-note">Share per-doctor link: <code>?id=CR001</code> — doctor name will be added later.</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const clinics = [
  {
    "id": "CR001",
    "clinic": "Clinic 1",
    "doctor": "",
    "city": "Bengaluru",
    "state": "Karnataka",
    "lat": 13.050391,
    "lon": 77.627325,
    "status": "Non-Active"
  },
  {
    "id": "CR002",
    "clinic": "Clinic 2",
    "doctor": "",
    "city": "Patna",
    "state": "Bihar",
    "lat": 25.992841,
    "lon": 85.392521,
    "status": "Non-Active"
  },
  {
    "id": "CR003",
    "clinic": "Clinic 3",
    "doctor": "",
    "city": "Itanagar",
    "state": "Arunachal Pradesh",
    "lat": 27.410749,
    "lon": 93.709568,
    "status": "Non-Active"
  },
  {
    "id": "CR004",
    "clinic": "Clinic 4",
    "doctor": "",
    "city": "Hyderabad",
    "state": "Telangana",
    "lat": 17.718541,
    "lon": 78.377346,
    "status": "Non-Active"
  },
  {
    "id": "CR005",
    "clinic": "Clinic 5",
    "doctor": "",
    "city": "Cuttack",
    "state": "Odisha",
    "lat": 19.980446,
    "lon": 86.288284,
    "status": "Non-Active"
  },
  {
    "id": "CR006",
    "clinic": "Clinic 6",
    "doctor": "",
    "city": "Shimla",
    "state": "Himachal Pradesh",
    "lat": 30.788649,
    "lon": 76.938997,
    "status": "Non-Active"
  },
  {
    "id": "CR007",
    "clinic": "Clinic 7",
    "doctor": "",
    "city": "Ranchi",
    "state": "Jharkhand",
    "lat": 23.812944,
    "lon": 84.995726,
    "status": "Non-Active"
  },
  {
    "id": "CR008",
    "clinic": "Clinic 8",
    "doctor": "",
    "city": "Itanagar",
    "state": "Arunachal Pradesh",
    "lat": 27.112952,
    "lon": 93.143391,
    "status": "Non-Active"
  },
  {
    "id": "CR009",
    "clinic": "Clinic 9",
    "doctor": "",
    "city": "Ranchi",
    "state": "Jharkhand",
    "lat": 23.389989,
    "lon": 85.06023,
    "status": "Active"
  },
  {
    "id": "CR010",
    "clinic": "Clinic 10",
    "doctor": "",
    "city": "Vadodara",
    "state": "Gujarat",
    "lat": 22.757834,
    "lon": 72.901663,
    "status": "Non-Active"
  },
  {
    "id": "CR011",
    "clinic": "Clinic 11",
    "doctor": "",
    "city": "Mysuru",
    "state": "Karnataka",
    "lat": 12.414411,
    "lon": 77.114623,
    "status": "Non-Active"
  },
  {
    "id": "CR012",
    "clinic": "Clinic 12",
    "doctor": "",
    "city": "Raipur",
    "state": "Chhattisgarh",
    "lat": 21.42877,
    "lon": 81.65734,
    "status": "Non-Active"
  },
  {
    "id": "CR013",
    "clinic": "Clinic 13",
    "doctor": "",
    "city": "Kavaratti",
    "state": "Lakshadweep",
    "lat": 10.447279,
    "lon": 72.337355,
    "status": "Non-Active"
  },
  {
    "id": "CR014",
    "clinic": "Clinic 14",
    "doctor": "",
    "city": "Jabalpur",
    "state": "Madhya Pradesh",
    "lat": 23.543126,
    "lon": 80.093791,
    "status": "Non-Active"
  },
  {
    "id": "CR015",
    "clinic": "Clinic 15",
    "doctor": "",
    "city": "Belgaum",
    "state": "Karnataka",
    "lat": 15.751907,
    "lon": 74.722683,
    "status": "Non-Active"
  },
  {
    "id": "CR016",
    "clinic": "Clinic 16",
    "doctor": "",
    "city": "Varanasi",
    "state": "Uttar Pradesh",
    "lat": 24.953049,
    "lon": 83.093692,
    "status": "Non-Active"
  },
  {
    "id": "CR017",
    "clinic": "Clinic 17",
    "doctor": "",
    "city": "Tezpur",
    "state": "Assam",
    "lat": 26.323462,
    "lon": 93.009552,
    "status": "Non-Active"
  },
  {
    "id": "CR018",
    "clinic": "Clinic 18",
    "doctor": "",
    "city": "Dehradun",
    "state": "Uttarakhand",
    "lat": 30.780824,
    "lon": 78.333625,
    "status": "Non-Active"
  },
  {
    "id": "CR019",
    "clinic": "Clinic 19",
    "doctor": "",
    "city": "Daman",
    "state": "Daman and Diu",
    "lat": 20.673054,
    "lon": 73.189169,
    "status": "Non-Active"
  },
  {
    "id": "CR020",
    "clinic": "Clinic 20",
    "doctor": "",
    "city": "Rourkela",
    "state": "Odisha",
    "lat": 22.509001,
    "lon": 85.253599,
    "status": "Non-Active"
  },
  {
    "id": "CR021",
    "clinic": "Clinic 21",
    "doctor": "",
    "city": "Shillong",
    "state": "Meghalaya",
    "lat": 26.064276,
    "lon": 91.841404,
    "status": "Non-Active"
  },
  {
    "id": "CR022",
    "clinic": "Clinic 22",
    "doctor": "",
    "city": "Tezpur",
    "state": "Assam",
    "lat": 27.074099,
    "lon": 93.018428,
    "status": "Non-Active"
  },
  {
    "id": "CR023",
    "clinic": "Clinic 23",
    "doctor": "",
    "city": "Jodhpur",
    "state": "Rajasthan",
    "lat": 26.374704,
    "lon": 72.978804,
    "status": "Non-Active"
  },
  {
    "id": "CR024",
    "clinic": "Clinic 24",
    "doctor": "",
    "city": "Tezpur",
    "state": "Assam",
    "lat": 26.628728,
    "lon": 92.644363,
    "status": "Non-Active"
  },
  {
    "id": "CR025",
    "clinic": "Clinic 25",
    "doctor": "",
    "city": "Siliguri",
    "state": "West Bengal",
    "lat": 26.436385,
    "lon": 88.576462,
    "status": "Non-Active"
  },
  {
    "id": "CR026",
    "clinic": "Clinic 26",
    "doctor": "",
    "city": "Visakhapatnam",
    "state": "Andhra Pradesh",
    "lat": 17.40788,
    "lon": 83.255379,
    "status": "Non-Active"
  },
  {
    "id": "CR027",
    "clinic": "Clinic 27",
    "doctor": "",
    "city": "Varanasi",
    "state": "Uttar Pradesh",
    "lat": 24.848804,
    "lon": 82.609049,
    "status": "Non-Active"
  },
  {
    "id": "CR028",
    "clinic": "Clinic 28",
    "doctor": "",
    "city": "Shillong",
    "state": "Meghalaya",
    "lat": 25.86017,
    "lon": 92.218382,
    "status": "Non-Active"
  },
  {
    "id": "CR029",
    "clinic": "Clinic 29",
    "doctor": "",
    "city": "Hubli",
    "state": "Karnataka",
    "lat": 15.843131,
    "lon": 75.097805,
    "status": "Non-Active"
  },
  {
    "id": "CR030",
    "clinic": "Clinic 30",
    "doctor": "",
    "city": "Itanagar",
    "state": "Arunachal Pradesh",
    "lat": 27.535539,
    "lon": 93.598231,
    "status": "Non-Active"
  },
  {
    "id": "CR031",
    "clinic": "Clinic 31",
    "doctor": "",
    "city": "Muzaffarpur",
    "state": "Bihar",
    "lat": 26.598143,
    "lon": 85.530461,
    "status": "Non-Active"
  },
  {
    "id": "CR032",
    "clinic": "Clinic 32",
    "doctor": "",
    "city": "Kanpur",
    "state": "Uttar Pradesh",
    "lat": 26.888238,
    "lon": 80.353052,
    "status": "Non-Active"
  },
  {
    "id": "CR033",
    "clinic": "Clinic 33",
    "doctor": "",
    "city": "Pondicherry",
    "state": "Puducherry",
    "lat": 12.350318,
    "lon": 80.017983,
    "status": "Non-Active"
  },
  {
    "id": "CR034",
    "clinic": "Clinic 34",
    "doctor": "",
    "city": "Surat",
    "state": "Gujarat",
    "lat": 20.787163,
    "lon": 73.171668,
    "status": "Non-Active"
  },
  {
    "id": "CR035",
    "clinic": "Clinic 35",
    "doctor": "",
    "city": "Thane",
    "state": "Maharashtra",
    "lat": 19.44994,
    "lon": 72.63442,
    "status": "Non-Active"
  },
  {
    "id": "CR036",
    "clinic": "Clinic 36",
    "doctor": "",
    "city": "Muzaffarpur",
    "state": "Bihar",
    "lat": 25.695419,
    "lon": 85.804632,
    "status": "Non-Active"
  },
  {
    "id": "CR037",
    "clinic": "Clinic 37",
    "doctor": "",
    "city": "Agra",
    "state": "Uttar Pradesh",
    "lat": 26.863211,
    "lon": 77.632407,
    "status": "Non-Active"
  },
  {
    "id": "CR038",
    "clinic": "Clinic 38",
    "doctor": "",
    "city": "Leh",
    "state": "Ladakh",
    "lat": 33.96554,
    "lon": 77.447772,
    "status": "Non-Active"
  },
  {
    "id": "CR039",
    "clinic": "Clinic 39",
    "doctor": "",
    "city": "Vijayawada",
    "state": "Andhra Pradesh",
    "lat": 16.540796,
    "lon": 80.443562,
    "status": "Non-Active"
  },
  {
    "id": "CR040",
    "clinic": "Clinic 40",
    "doctor": "",
    "city": "Vadodara",
    "state": "Gujarat",
    "lat": 22.181274,
    "lon": 73.534453,
    "status": "Non-Active"
  },
  {
    "id": "CR041",
    "clinic": "Clinic 41",
    "doctor": "",
    "city": "Ahmedabad",
    "state": "Gujarat",
    "lat": 23.413705,
    "lon": 72.439446,
    "status": "Non-Active"
  },
  {
    "id": "CR042",
    "clinic": "Clinic 42",
    "doctor": "",
    "city": "Gaya",
    "state": "Bihar",
    "lat": 24.72261,
    "lon": 85.07193,
    "status": "Non-Active"
  },
  {
    "id": "CR043",
    "clinic": "Clinic 43",
    "doctor": "",
    "city": "Varanasi",
    "state": "Uttar Pradesh",
    "lat": 25.629772,
    "lon": 83.234213,
    "status": "Non-Active"
  },
  {
    "id": "CR044",
    "clinic": "Clinic 44",
    "doctor": "",
    "city": "Mysuru",
    "state": "Karnataka",
    "lat": 12.230406,
    "lon": 76.690457,
    "status": "Non-Active"
  },
  {
    "id": "CR045",
    "clinic": "Clinic 45",
    "doctor": "",
    "city": "Kanpur",
    "state": "Uttar Pradesh",
    "lat": 26.41609,
    "lon": 80.666555,
    "status": "Non-Active"
  },
  {
    "id": "CR046",
    "clinic": "Clinic 46",
    "doctor": "",
    "city": "Udaipur",
    "state": "Rajasthan",
    "lat": 24.565261,
    "lon": 73.545558,
    "status": "Non-Active"
  },
  {
    "id": "CR047",
    "clinic": "Clinic 47",
    "doctor": "",
    "city": "Trivandrum",
    "state": "Kerala",
    "lat": 8.026895,
    "lon": 77.387473,
    "status": "Active"
  },
  {
    "id": "CR048",
    "clinic": "Clinic 48",
    "doctor": "",
    "city": "Pune",
    "state": "Maharashtra",
    "lat": 18.10152,
    "lon": 73.412026,
    "status": "Non-Active"
  },
  {
    "id": "CR049",
    "clinic": "Clinic 49",
    "doctor": "",
    "city": "Kolkata",
    "state": "West Bengal",
    "lat": 22.55316,
    "lon": 88.038109,
    "status": "Non-Active"
  },
  {
    "id": "CR050",
    "clinic": "Clinic 50",
    "doctor": "",
    "city": "Bhubaneswar",
    "state": "Odisha",
    "lat": 20.271136,
    "lon": 85.659078,
    "status": "Active"
  },
  {
    "id": "CR051",
    "clinic": "Clinic 51",
    "doctor": "",
    "city": "Agra",
    "state": "Uttar Pradesh",
    "lat": 26.779125,
    "lon": 77.96617,
    "status": "Non-Active"
  },
  {
    "id": "CR052",
    "clinic": "Clinic 52",
    "doctor": "",
    "city": "Shimla",
    "state": "Himachal Pradesh",
    "lat": 31.506806,
    "lon": 76.863677,
    "status": "Non-Active"
  },
  {
    "id": "CR053",
    "clinic": "Clinic 53",
    "doctor": "",
    "city": "Nashik",
    "state": "Maharashtra",
    "lat": 20.075725,
    "lon": 73.669011,
    "status": "Non-Active"
  },
  {
    "id": "CR054",
    "clinic": "Clinic 54",
    "doctor": "",
    "city": "Daman",
    "state": "Daman and Diu",
    "lat": 20.563661,
    "lon": 72.973758,
    "status": "Non-Active"
  },
  {
    "id": "CR055",
    "clinic": "Clinic 55",
    "doctor": "",
    "city": "Kolkata",
    "state": "West Bengal",
    "lat": 22.668148,
    "lon": 88.669065,
    "status": "Non-Active"
  },
  {
    "id": "CR056",
    "clinic": "Clinic 56",
    "doctor": "",
    "city": "Nashik",
    "state": "Maharashtra",
    "lat": 19.972154,
    "lon": 73.942671,
    "status": "Non-Active"
  },
  {
    "id": "CR057",
    "clinic": "Clinic 57",
    "doctor": "",
    "city": "Hubli",
    "state": "Karnataka",
    "lat": 15.701765,
    "lon": 74.773986,
    "status": "Non-Active"
  },
  {
    "id": "CR058",
    "clinic": "Clinic 58",
    "doctor": "",
    "city": "Warangal",
    "state": "Telangana",
    "lat": 17.598745,
    "lon": 79.832791,
    "status": "Non-Active"
  },
  {
    "id": "CR059",
    "clinic": "Clinic 59",
    "doctor": "",
    "city": "Ranchi",
    "state": "Jharkhand",
    "lat": 22.891203,
    "lon": 84.858685,
    "status": "Non-Active"
  },
  {
    "id": "CR060",
    "clinic": "Clinic 60",
    "doctor": "",
    "city": "Coimbatore",
    "state": "Tamil Nadu",
    "lat": 11.123285,
    "lon": 77.430725,
    "status": "Active"
  },
  {
    "id": "CR061",
    "clinic": "Clinic 61",
    "doctor": "",
    "city": "Shillong",
    "state": "Meghalaya",
    "lat": 25.757429,
    "lon": 91.397798,
    "status": "Non-Active"
  },
  {
    "id": "CR062",
    "clinic": "Clinic 62",
    "doctor": "",
    "city": "Lucknow",
    "state": "Uttar Pradesh",
    "lat": 26.822068,
    "lon": 80.803004,
    "status": "Non-Active"
  },
  {
    "id": "CR063",
    "clinic": "Clinic 63",
    "doctor": "",
    "city": "Rajkot",
    "state": "Gujarat",
    "lat": 22.524164,
    "lon": 70.336973,
    "status": "Non-Active"
  },
  {
    "id": "CR064",
    "clinic": "Clinic 64",
    "doctor": "",
    "city": "Trivandrum",
    "state": "Kerala",
    "lat": 8.247515,
    "lon": 76.988223,
    "status": "Non-Active"
  },
  {
    "id": "CR065",
    "clinic": "Clinic 65",
    "doctor": "",
    "city": "Trivandrum",
    "state": "Kerala",
    "lat": 8.443288,
    "lon": 77.229627,
    "status": "Active"
  },
  {
    "id": "CR066",
    "clinic": "Clinic 66",
    "doctor": "",
    "city": "Rourkela",
    "state": "Odisha",
    "lat": 22.019032,
    "lon": 85.046023,
    "status": "Non-Active"
  },
  {
    "id": "CR067",
    "clinic": "Clinic 67",
    "doctor": "",
    "city": "Patna",
    "state": "Bihar",
    "lat": 25.483288,
    "lon": 85.211761,
    "status": "Non-Active"
  },
  {
    "id": "CR068",
    "clinic": "Clinic 68",
    "doctor": "",
    "city": "Belgaum",
    "state": "Karnataka",
    "lat": 15.870098,
    "lon": 74.744442,
    "status": "Non-Active"
  },
  {
    "id": "CR069",
    "clinic": "Clinic 69",
    "doctor": "",
    "city": "Jodhpur",
    "state": "Rajasthan",
    "lat": 26.377457,
    "lon": 72.682779,
    "status": "Non-Active"
  },
  {
    "id": "CR070",
    "clinic": "Clinic 70",
    "doctor": "",
    "city": "Itanagar",
    "state": "Arunachal Pradesh",
    "lat": 27.561765,
    "lon": 93.117163,
    "status": "Non-Active"
  },
  {
    "id": "CR071",
    "clinic": "Clinic 71",
    "doctor": "",
    "city": "Ahmedabad",
    "state": "Gujarat",
    "lat": 23.092993,
    "lon": 72.475928,
    "status": "Non-Active"
  },
  {
    "id": "CR072",
    "clinic": "Clinic 72",
    "doctor": "",
    "city": "Nashik",
    "state": "Maharashtra",
    "lat": 19.679361,
    "lon": 74.023834,
    "status": "Non-Active"
  },
  {
    "id": "CR073",
    "clinic": "Clinic 73",
    "doctor": "",
    "city": "Kavaratti",
    "state": "Lakshadweep",
    "lat": 10.944058,
    "lon": 72.808513,
    "status": "Non-Active"
  },
  {
    "id": "CR074",
    "clinic": "Clinic 74",
    "doctor": "",
    "city": "Warangal",
    "state": "Telangana",
    "lat": 18.412617,
    "lon": 79.807131,
    "status": "Non-Active"
  },
  {
    "id": "CR075",
    "clinic": "Clinic 75",
    "doctor": "",
    "city": "Belgaum",
    "state": "Karnataka",
    "lat": 16.073576,
    "lon": 74.91059,
    "status": "Non-Active"
  }
];

function getParam(name) { const url = new URL(window.location.href); return url.searchParams.get(name); }
const singleId = getParam('id');

const map = L.map('map').setView([22.0,80.0], 5);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap contributors' }).addTo(map);

function greenIcon() { return L.divIcon({ className:'', html:'<div class="pulse-green"></div>', iconSize:[18,18], iconAnchor:[9,9] }); }
function redIcon() { return L.divIcon({ className:'', html:'<div class="pulse-red"></div>', iconSize:[18,18], iconAnchor:[9,9] }); }

const markers = [];
clinics.forEach(cl => {
  if (singleId && singleId !== cl.id) return;
  const icon = cl.status === 'Active' ? greenIcon() : redIcon();
  const marker = L.marker([cl.lat, cl.lon], { icon }).addTo(map);
  const popupHtml = `<div style="font-size:14px;line-height:1.3;"><strong>ID: ${cl.id}</strong><br>Clinic: ${cl.clinic}<br>Doctor: —<br>City: ${cl.city}, ${cl.state}<br>Status: ${cl.status}</div>`;
  marker.bindPopup(popupHtml);
  markers.push(marker);
  if (singleId && singleId === cl.id) { marker.openPopup(); map.setView([cl.lat, cl.lon], 13); }
});

if (!singleId && markers.length > 0) { const group = L.featureGroup(markers); map.fitBounds(group.getBounds().pad(0.2)); }

const legend = L.control({ position: 'topright' });
legend.onAdd = function () { const div = L.DomUtil.create('div', 'legend'); div.innerHTML = '<div><span class="dot green"></span> Active</div><div style="margin-top:6px;"><span class="dot red"></span> Non-Active</div>'; return div; };
legend.addTo(map);
</script>
</body>
</html>
